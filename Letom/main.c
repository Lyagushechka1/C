#include <stdio.h>

/*
/Users/gleb/Desktop/a.txt
*/

int main(void)
{
    char line[255];
    int choice;
    char filename[100];
    printf("–í–≤–µ–¥–∏—Ç–µ –∏–º—è —Ñ–∞–π–ª–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞: ");
    scanf("%s", filename);

    while (choice == 4)
    {
        printf("%s", "–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—é\n1 - –ß—Ç–µ–Ω–∏–µ\n2 - –í–≤–æ–¥\n3 - –£–¥–∞–ª–µ–Ω–∏–µ –§–∞–π–ª–∞\n4 - –í—ã—Ö–æ–¥\n–í—ã–±–æ—Ä: ");
        scanf("%d", &choice);
        //-----------------------Funcions-----------------------------//
        if (choice > 3)
        {
            perror("–ù–µ–∫–æ—Ä—Ä–µ–Ω–∫—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç!\n");
        }
        //--------------------------1---------------------------------//
        else if (choice == 1)
        {
            FILE *file = fopen(filename, "r");
            fgets(line, 255, file);
            printf("%s\n", line);
        }
        //--------------------------2---------------------------------//
        else if (choice == 2)
        {
            char text[1000];
            FILE *file1 = fopen(filename, "w");
            printf("%s", "–í–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ç–∏—Ç–µ –≤–∏–¥–∏—Ç—å –≤ —Ñ–∞–π–ª–µ: ");
            scanf("%s", text);
            fprintf(file1, "%s", text);
            fclose(file1);
        }
        //--------------------------3---------------------------------//
        else if (choice == 3)
        {
            if (remove(filename) == 0)
            {
                printf("–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω.\n");
            }
            else
            {
                perror("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞");
            }
        }
        //--------------------------4---------------------------------//
        else if (choice == 4)
        {
            break;
        }
        return 0;
    }
}
/*
 if(remove(file_name) == 0){
     printf("–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω.\n");
 }else {
     perror("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞");
 }
*/
